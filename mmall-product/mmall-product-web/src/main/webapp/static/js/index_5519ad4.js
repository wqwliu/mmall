!function(){var n=function(n,t,o){var i=this;i.el=n,i.$parent=o||$(document.body),i.uuid=t,i.init()};$.extend(n.prototype,{init:function(){this._handleEvent()},_handleEvent:function(){var n=this;n.$parent.find(n.el).on("click",function(){$.ajax({type:"get",dataType:"jsonp",url:webCtx+"/coupon/jsonp/direct?couponUuid="+n.uuid+"&comeFrom=vivoshop_pc",success:function(n){n&&600==n.retCode?LoginConfirm.redirect():new Dialog(n&&200==n.retCode?{title:"领取成功！",content:n.retMsg,icon:"success",confirmBtn:!0,confirmCallback:function(){}}:{title:"抱歉，领取失败！",content:n.retMsg,icon:"warning",confirmBtn:!0,confirmCallback:function(){}})},error:function(){new Dialog({title:"领券失败",content:"请稍候重试",icon:"warning",confirmBtn:!0,confirmCallback:function(){}})}})})}}),$.fn.collar=function(t){$(this).each(function(o,i){var c=$(i).attr("voucher-id");c&&new n(i,c,t)})},$(function(){$("[voucher-id]").length&&$("[voucher-id]").collar()})}();